他这个实现的原理是啥。。至今不是很明白 
一业
hooks 
1178747250
我也是 
古德猫宁
估计是闭包 
杨阳
userState(0) 返回一个数组? 
杨阳
这个数组有俩值? 
136****2778
默认值是对象或者数组为何里面不能有值？ 只能是空数组或者空对象？ 
钱炜华
setNumber是在外部传入需要执行的代码吗 
136****2778
不用 @钱 
古德猫宁
第二项必须用驼峰吗 是自己随便定义的吧 
Tony
所有的状态指的是某一个函数组件吗 还是所有的 
Tony
所有的函数组件 
20:13
开心麻花
既然是React.useState 为啥定义到React.Dom中 
136****2778
为啥要index++ 
150****8093
hookState[index] =;然后index++ 
Tony
const currentHookIndex 
落雨
打个断点跑下看看 
一业
return值 数组第一项不该是hookstates[hookindex]吗 
钱炜华
永远是0，第二次使用的时候不会覆盖第一次的值吗 
古德猫宁
return 第一个写错了吧 
150****8093
对 

20:22
Tony
那就是一个应用里 可能hook index能排到几百。。简单暴力 
136****2778
那再次执行hook函数不是置0了？ 
MR.tony
269行对吗？ 



老师你的render怎么跟周末讲的不一样了呀 
张宝丰
也会有批量更新嘛 
漂
为什么两个vdom 
150****8093
能看下scheduleUpdate方法么 
月下吴刚
hookIndex 哪里来的/ 
古德猫宁
如果没有赋默认值呢 
毕会斌
明白了 
136****2778
273行注释要改一下 
古德猫宁
这两个vdom 每次都是从根节点比较 
漂
两个vdom不是一样吗？ 
136****2778
vdom和vdom不是一样么？ 那domdiff能改变？ 


vdom和vdom不是一样么？ 那domdiff能改变？ 
开心麻花
update那里不明白 
150****8093
再说下为啥if和for循环不能用hooks吧 
20:35
小行星
为什么重置0 
一业
渲染完了，重新从头开始走 
钱炜华撤回了一条消息
136****2778
273行不是这个  
136****2778
现在变成276行了 
江彬
如果重新渲染有函数组件被卸载了顺序不会乱吗？ 



还是没理解两个vdom怎么就更新了。debug一下吧  
136****2778
老师 你这样不能证明没问题啊 必须让1和2的值不一样 看一下 
一业
用的react的不是自己写的， 
Tony
现在用的不是自己的吧 
1178747250
有问题就有点弱了 
慕曦
引入的文件不是自己的 
漂
这个是react官方的 
青衣
这是官网的 
Caption
版本不对 
漂
这个不是你写的那份，老师 
150****8093
没有问题，应该hookstate越来越大了吧 
一业
引错了呀 
青衣
引入自己写的呀 
慕曦
用的是官方的 
青衣
老师你引入错了 
漂
哈哈 
钱炜华
塌陷了吗 



次 setState 需要从根结点开始进行一次比较 
 是的，这是React特点，也是不是按需更新vue不一样
 这也是为什么react搞出了fiber原因。fiber的核心是要diff工作可以暂停。
 为什么要暂停，因为慢吧，耗时长嘛。为什么耗时长呢，因为每次都要从根节点把整个应用全部比较一遍

学习
为什么render要重置为0 
一业撤回了一条消息
一业
搞个唯一值 
漂
搞一个，我们？ 
开心麻花
fiber 是啥？ 
漂
fiber搞起 
古德猫宁
可以搞个二维数组来存放每个不同的组件 

vue按需更新是组件级别的吗？什么原理来按需的？ 
Caption
类组件在setState 的时候是不是可以按组件进行更新 
张润钊-2625
类组件是不是不需要从根开始比较呀，， 
其实在源码里也是从根组件开始调试更新
杨阳
没理解 ... ... 
张润钊-2625
类组件的setState好像只需要比较自己的renderVdom吧 
漂
后面会讲fiber吗？ 



Tony
{type:App}

这个vdom是function还是 rendervdom? 
21:12
Tony
对说的说的非常对。先改数组里的值 ，然后
那就在更新的时候 先同步更新了值 然后在compare的时候 new renderVdom的时候 获取的是新值 
1178747250
重新取值了 
136****2778
type怎么是div  不是app吗 
136****2778
为啥type刚开始是div 现在是app 

为什么要type重新执行一下 
1178747250
这种情况是仅限于两次的虚拟DOM相同吧 
古德猫宁
主要就是函数执行前后的对比 



异步获取不到最新状态 如何获取呢?
Tony
捕获了 
月下吴刚
闭包 
月下吴刚
值引用 
1178747250
number参数是数组中的对应的索引的最新的值 
函数的话number就是这个函数中的number变量了，不是App组件中的number了？ 
张宝丰
经典问题 hook里面定时器轮训接口 
月下吴刚
函数中可以获取到最新的 number 

这里绑定事件只能用匿名函数吗 
漂
快10点了 
21:50
古德猫宁
不需要
类组件也可以用memo吧  
一业
高阶组件？？ 
青衣
useMemo只能函数组件使用吧 
青衣
useMemo和useCallback 配合使用吗 不需要
Tony撤回了一条消息
Tony
useMemo 函数的返回值还是一个函数可以替代useCallback使用吗 
Y
用着好麻烦啊… 
月下吴刚
比 vue 麻烦 
1178747250
是啊 
学习
麻烦 
Y
果然源码越难 用着越简单 源码越简单用着越难… 
136****2778
vue怎么实现的原理 我都忘了 


这两个的区别就是一个缓存对象一个缓存函数吗 是的
月下吴刚
这两个属于 hooks 范围吗？ 只要是以 use开头的都是hook
136****2778
vue是怎么实现别的组件更新 自己组件不更新的？ watcher
一业
这都是性能优化的。。 业务中直接怼 
青衣
useMemo 和useCallback 区别是什么 
一业撤回了一条消息
一业
一个监听前面state，一个监听setstate方法 
青衣
什么时候使用这两个呀。还有React.memo,这几个不太清楚怎么使用 
钱炜华
感觉react源码里面揉合一些其他逻辑，包括生命周期啥的太多了，听着理解倒是还行 
毕会斌
优化的时候可以用 
一业
用hook就是代替之前的类组件，就没生命周期啥事了 
一业
直接用 
慕曦
React.memo 应该是相当类式组件的pureComponent  优化用的 
22:01
1178747250
hookIndex不用缓存下来吗 
136****2778
49行啥意思 
136****2778
不懂 
漂
有点困 
136****2778
为啥hook[inde]等于1个数组？？？ 
136****2778
打印看看 

钩子

为啥叫hook？ 啥意思 
慕曦
钩子 
漂
46行为什么++ 
136****2778撤回了一条消息
一业
钩子。 就是回调方法，把之前很复杂的业务逻辑，用方法浓缩了，直接调用。 有个好用的hooks库，umihooks，很多通用的功能直接拿来用 

umihooks 号称是最好的hooks库


const [number,setNumber]=useState;
handleClick=>setNumber(number++)之后，
在handleClick函数之外获取setNumber之后的新值有哪些方法呢 